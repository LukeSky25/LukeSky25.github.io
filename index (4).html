<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Formulário de Cadastro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.min.js" integrity="sha384-heAjqF+bCxXpCWLa6Zhcp4fu20XoNIA98ecBC1YkdXhszjoejr5y9Q77hIrv8R9i" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body>
    <nav class="navbar fixed-center bg-body-tertia0 fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="subindex1.html">Lucke_forms</a>
      </div>
    </nav>
    <br><br><br>
    <h2><strong>Formulario de Cadastro</strong></h2>
    <h6><em>Insira suas Informações abaixo</em></h6>
    <div class="login-card fixed-center">
      <div class="card-header">
        <div class="log">Informações Pessoais</div>
      </div>
      <form id="meuform" action="mailto:lucasskywalkerodrigues@gmail.com  " method="get">
        <div class="form-group">
          <label for="username">Nome Completo:<span>*</span></label>
          <input name="nome" id="nome" type="text" class="form-control" maxlength="50" pattern="^[a-zA-ZÀ-ú\s]+$">
        </div>
        <div class="form-group">
          <label for="username">Nome dos Responsáveis:<span>*</span></label>
          <input type="text" name="resp" id="resp" class="form-control"/>
        </div>
        <div class="form-group">
          <label for="username">E-mail (Responsável):<span>*</span></label>
          <input name="email" id="email" type="email" class="form-control" onblur="validarEmail(this)">
         </div>
        <div class="form-group">
          <label for="username">Estado Civil:<span>*</span></label>
          <select id="disabledSelect" class="form-select">
            <option disabled  selected>Selecione...</option>
            <option>Solteiro</option>
            <option>Casado</option>
            <option>Separado</option>
            <option>Divorciado</option>
            <option>Viúvo</option>
          </select>   
        </div>    
        <div class="form-group">
          <label for="username"><abbr title="Código de Endereçamento Postal">CEP</abbr>:<span>*</span></label>
          <input type="text" maxlength="9" id="cep" name="cep"  onkeyup="handleZipCode(event)" />
        </div>
        <div class="form-group">
          <label for="username"><abbr title="Cadastro de Pessoas Físicas">CPF</abbr>:<span>*</span></label>
          <input  name="cpf" id="cpf" type="cpf" class="form-control" maxlength="18" onblur="validarCPF(this);">
          <span id="msg-cpf"></span> 
        </div>
        <div class="form-group">
          <label for="password">Telefone:<span>*</span></label>
          <input  type="text" name="telefone" id="telefone" maxlength="15" class="form-control" placeholder=" ">
        </div>
        <div class="form-group">
          <button type="button" class="btn btn-secondary btn-lg" onclick="validar()">Enviar</button>  
          <button type="reset" class="btn btn-secondary btn-lg">Limpar</button>
        </div>
      </form>
    </div>
          <br><br><br>
    <footer class="bg-light text-center text-lg-start fixed-bottom">
      <div class="text-center p-3" style="background-color: #CCCCCC;">
       © 2023 Direitos Autorais:
        <a class="text-dark" href="https://github.com/LukeSky25" target="_blank">Lucke_forms.com</a>
      </div>
    </footer>  
  </body>
</html>
<script>
  function validar(){
      
      var Mensagem = "";
      var nome = meuform.nome;
      var resp = meuform.resp;
      var email = meuform.email;
      var disabledSelect = meuform.disabledSelect;
      var cep = meuform.cep;
      var cpf = meuform.cpf;
      var telefone = meuform.telefone;

      if(nome.value == ""){
          Mensagem  = Mensagem + "-Nome Completo\n" 
      }
      if(resp.value == ""){
          Mensagem  = Mensagem + "-Nome do Responsável Completo\n" 
      }
      if(email.value == ""){
          Mensagem  = Mensagem + "-Email (Responsável)\n" 
      }
      if(disabledSelect.value == ""){
          Mensagem  = Mensagem + "-Estatos Civil\n" 
      }
      if(cep.value == ""){
          Mensagem  = Mensagem + "-CEP\n" 
      }
      if(cpf.value == ""){
          Mensagem  = Mensagem + "-CPF\n" 
      }
      if(telefone.value == ""){
          Mensagem  = Mensagem + "-Numero de Telefone\n" 
      }
     
      if(Mensagem != ""){
              // alert("Preencha os Campos abaixo:\n" + Mensagem)
              Swal.fire('Complete os Campos Abaixo:\n' + Mensagem)
      }


      else{
          // alert("Cadastrado com Sucesso")
          Swal.fire({
          icon: 'success',
          title: 'Cadastrado com Sucesso',
          showConfirmButton: false,
          timer: 1500
          }).then(function(){
            window.location.href="enviado.html";  
          });
      }
 
  }
</script>
<script>
  $(document).ready(function() {
    // seleciona o nome de entrada pelo id
    var nome = $("#nome");

    // adiciona um listener para o evento "input"
    nome.on("input", function() {
      // obtém o valor atual do nome de entrada
      var valor = $(this).val();

      // remove caracteres que não são letras, espaços ou acentos
      valor = valor.replace(/[^a-zA-ZÀ-ú\s]/g, "");

      // atualiza o valor do nome de entrada com o valor limpo
      $(this).val(valor);
    });
  });
</script>

<script>
  $(document).ready(function() {
    // seleciona o nome de entrada pelo id
    var nome = $("#resp");

    // adiciona um listener para o evento "input"
    nome.on("input", function() {
      // obtém o valor atual do nome de entrada
      var valor = $(this).val();

      // remove caracteres que não são letras, espaços ou acentos
      valor = valor.replace(/[^a-zA-ZÀ-ú\s]/g, "");

      // atualiza o valor do nome de entrada com o valor limpo
      $(this).val(valor);
    });
  });
</script>

<script>
  var filter = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
  function validarEmail() {
    if((!filter.test(document.getElementById("email").value)) && document.getElementById("email").value.length > 0){
    alert('Por favor, digite um e-mail válido');
    document.getElementById("email").value = '';
    document.getElementById("email").focus;
    }
  }
  
</script>

<script>
  $(document).ready(function() {
    $('#cep').on('input', function() {
      // remove todos os caracteres que não são números do valor do campo
      var valor = $(this).val().replace(/\D/g,'');
      
      // adiciona um "-" depois dos primeiros 5 números do CEP
      valor = valor.replace(/^(\d{5})(\d)/, "$1-$2");
      
      // atualiza o valor do campo
      $(this).val(valor);
    });
  });
</script>

<script>
  $(document).ready(function() {
    $('#cpf').on('input', function() {
      // remove todos os caracteres que não são números do valor do campo
      var valor = $(this).val().replace(/\D/g,'');
      
      // adiciona pontos e traços na formatação do CPF
      valor = valor.replace(/(\d{3})(\d)/, "$1.$2");
      valor = valor.replace(/(\d{3})(\d)/, "$1.$2");
      valor = valor.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
      
      // atualiza o valor do campo
      $(this).val(valor);
    });
  });
</script>
                                                           
<script>
 function validarCPF(cpfInput) {
  let cpf = cpfInput.value.replace(/[^\d]+/g, '');
  
  if (cpf === '') {
    cpfInput.value = '';
    document.getElementById('msg-cpf').innerHTML = '';
    return;
  }

  // Verifica se o CPF tem 11 dígitos
  if (cpf.length !== 11) {
    document.getElementById('msg-cpf').innerHTML = 'CPF inválido';
    cpfInput.value = '';
    return;
  }

  // Verifica se todos os dígitos são iguais
  if (/^(\d)\1+$/.test(cpf)) {
    document.getElementById('msg-cpf').innerHTML = 'CPF inválido';
    cpfInput.value = '';
    return;
  }

  // Validação dos dígitos verificadores
  let Soma = 0;
  let Resto;

  for (let i = 1; i <= 9; i++) {
    Soma = Soma + parseInt(cpf.substring(i-1, i)) * (11 - i);
  }

  Resto = (Soma * 10) % 11;

  if ((Resto === 10) || (Resto === 11)) {
    Resto = 0;
  }

  if (Resto !== parseInt(cpf.substring(9, 10))) {
    document.getElementById('msg-cpf').innerHTML = 'CPF inválido';
    cpfInput.value = '';
    return;
  }

  Soma = 0;

  for (let i = 1; i <= 10; i++) {
    Soma = Soma + parseInt(cpf.substring(i-1, i)) * (12 - i);
  }

  Resto = (Soma * 10) % 11;

  if ((Resto === 10) || (Resto === 11)) {
    Resto = 0;
  }

  if (Resto !== parseInt(cpf.substring(10, 11))) {
    document.getElementById('msg-cpf').innerHTML = 'CPF inválido';
    cpfInput.value = '';
    return;
  }

  // CPF válido
  document.getElementById('msg-cpf').innerHTML = '';
}
</script>
<script>
  $(document).ready(function() {
    $('#telefone').on('input', function() {
      // remove todos os caracteres que não são números do valor do campo
      var valor = $(this).val().replace(/\D/g,'');
      
      // adiciona parênteses e traços na formatação do telefone
      if (valor.length === 11) {
        valor = valor.replace(/^(\d{2})(\d{5})(\d{4})$/, "($1) $2-$3");
      } else if (valor.length === 10) {
        valor = valor.replace(/^(\d{2})(\d{4})(\d{4})$/, "($1) $2-$3");
      } else {
        valor = valor.replace(/^(\d{2})(\d{4})(\d{4})$/, "($1) $2-$3");
      }
      
      // atualiza o valor do campo
      $(this).val(valor);
    });
  });
</script> 